# 成语结构化搜索（MIXED）用法教程

本教程详细介绍 CIST 工具中 `MIXED`（结构化）搜索的语法和用法，帮助你高效检索符合特定结构、拼音、声调、笔画等条件的成语。

---

## 1. 基本语法

结构化搜索语法允许你用类似“槽位”的方式描述成语的每个字的特征。常用槽位如下：

- `#`：任意汉字
- `#[n]`：该字笔画为 n
- `[n]`：该字笔画为 n（与 `#[n]` 等价）
- `#[n-m]`：该字笔画为 n 到 m 中的任意一个
- `[n-m]`：该字笔画为 n 到 m 中的任意一个（与 `#[n-m]` 等价）
- `#m`：该字拼音声调为 m（m 为 1-5）
- `pinyin`：指定拼音（如 `zhan1` 表示拼音为 zhan，声调为1）
- `@`：任意一个拼音字母
- `%`：1-4 个任意拼音字母
- `?`: 声母
- `*`: 韵母

**基本格式：**

( 槽位1 槽位2 槽位3 槽位4 )

每个槽位对应成语的一个字。

---

## 2. 槽位用法举例

- `( # # # # )`  
  匹配所有四字成语。

- `( # #[9] # # )`  
  匹配第二个字笔画为9的四字成语。

- `( zhan1 qin1 # # )`  
  匹配前两个字拼音分别为 zhan1、qin1 的成语。

- `( #3 # # # )`  
  匹配第一个字声调为3的成语。

- `( s%[5] # # # )`  
  匹配第一个字拼音开头是s，其他拼音字母任意，且笔画为5的成语。


---

## 3. 正则表达式结合

可以用 `/正则/` 语法对拼音、汉字、笔画等进行正则匹配。

注意，正则匹配与槽位匹配不同，是根据在如下的数据格式进行匹配搜索：

`[中文成语][带数字声调拼音][笔画数，数字之间用 '-' 连接]`

例子：
- `(/zhan1 qin1/)`  
  匹配拼音中包含 `zhan1 qin1` 的成语。

---

## 4. 逻辑组合

支持 `AND`、`OR`、`NOT` 逻辑操作，`INCLUDE` `EXCLUDE` 高级功能，和括号分组：

- `(( # #[9] # # ) AND ( /zhan1 qin1/ ))`  
  匹配第二字9画且拼音包含 zhan1 qin1 的成语。

- `(( #3 # # # ) OR ( # # #4 # ))`  
  匹配第一个字声调为3或第三个字声调为4的成语。

- `(# # # #) AND INCLUDE(zh, iang)`
  匹配所有包括 zh 且 iang 拼音的成语。

---

## 5. 进阶用法

- `( %1 #[9] # # )`  
  匹配第一个字拼音为1声，第二个字9画的成语。

- `( # [7-9] # [5] )`  
  匹配第二字7到9画、第四字5画的成语。

- `( # # # # ) AND ( /zh/ )`  
  匹配所有拼音中包含“zh”的成语。

---

## 6. 常见问题

- **槽位数量必须与成语字数一致**，否则不会匹配。
- 拼音支持带声调数字（如 `zhan1`），不支持拼音首字母缩写。
- 逻辑表达式可嵌套，括号需配对。

---

可自由组合上述语法，实现更复杂的查询。